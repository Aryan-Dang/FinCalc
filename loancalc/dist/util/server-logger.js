"use strict";var __awaiter=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const process=require("process"),serve_1=require("../serve");function formatTime([a,b]){const c={amount:0,unit:"seconds"};return 0<a?c.amount=parseFloat((a+b/1e9).toFixed(3)):(c.unit="ms",c.amount=parseFloat((b/1e6).toFixed(3))),c}function logRequestTime(a,b){return __awaiter(this,void 0,void 0,function*(){const c=a.request.method,d=a.request.path,e=process.hrtime();yield b();const f=process.hrtime(e),{amount:g,unit:h}=formatTime(f);serve_1.Logger.verbose("[%s] %s - %f %s",c.toUpperCase(),d,g,h)})}exports.default=()=>logRequestTime;