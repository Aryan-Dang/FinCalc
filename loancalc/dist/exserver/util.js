"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class ServerError{constructor(a,b,c){this.opaque=a,this.errid=b,this.message=c}}exports.ServerError=ServerError;function getField(a,b){const c=b.split(".");let d=a;for(let a of c)if(d&&d.hasOwnProperty(a))d=d[a];else return;return d}exports.getField=getField;function requireField(a,b,c){const d=b.split(".");let e=a;for(let a of d)if(e&&e.hasOwnProperty(a))e=e[a];else throw new ServerError(!1,"missing-field",`Must provide the field '${c||b}'.`);return e}exports.requireField=requireField;function getStringField(a,b,c){const d=getField(a,b,c);if("string"==typeof d)return d;throw new ServerError(!1,"bad-field",`Expected the field '${c||b}' to be a valid string.`)}exports.getStringField=getStringField;function requireStringField(a,b,c){const d=requireField(a,b,c);if("string"==typeof d)return d;throw new ServerError(!1,"bad-field",`Expected the field '${c||b}' to be a valid string.`)}exports.requireStringField=requireStringField;function requireIntegerField(a,b,c){const d=Number.parseInt(requireField(a,b,c));if(Number.isInteger(d))return d;throw new ServerError(!1,"bad-field",`Expected the field '${c||b}' to be a valid integer.`)}exports.requireIntegerField=requireIntegerField;function requireNumberField(a,b,c){const d=Number.parseFloat(requireField(a,b,c));if(Number.isFinite(d))return d;throw new ServerError(!1,"bad-field",`Expected the field '${c||b}' to be a valid number.`)}exports.requireNumberField=requireNumberField;